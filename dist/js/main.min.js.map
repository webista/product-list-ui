{"version":3,"sources":["tabs.js","main.js"],"names":["isActive","tabsEl","tabsButtons","querySelectorAll","forEach","tabButton","addEventListener","ev","preventDefault","contains","classList","remove","add","clear","setAttribute","tabsEls","document","length","productsTabsButtons","productsContainer","getElementById","fetchData","url","innerHTML","dataURL","target","href","fetch","then","response","status","json","Error","data","productsHTML","product","concat","img","name","desc","rating","reviews","price","catch","error","console","warn","message","btn"],"mappings":";;;;CACA,WAIgB,SAARA,EAAQC,GAGZ,IAAMC,EAAcD,EAAOE,iBAAiB,mBAO3CD,EAAAE,QAAA,SAAAC,GAGCA,EAAUC,iBAAiB,QAAS,SAACC,GADvCL,EAAAA,iBAEOM,EAAAA,UAAHC,SAAAT,KARFE,EAAYE,QAAQ,SAACC,GADvBA,EAAAK,UAAiBC,OAAAX,GACfE,EAAYE,aAAQ,iBAAe,KAejCC,EAAUK,UAAUE,IAAIZ,GADxBa,EAAKC,aAAA,iBAAA,QAvBb,IAAAC,EAAAC,SAAAb,iBAAA,YACCH,EAAY,YAIXe,EAAAE,QA0BEF,EAAQX,QAAQ,SAACH,GADfc,EAAAA,KA/BN;;;;GCAAC,SAAAV,iBAAA,mBAAA,WACA,IAAAY,EAAAF,SAAAb,iBAAA,mCACQgB,EAAkBH,SAAAI,eAAoB,eAc5C,SAASC,EAAUd,EAAIe,GAMrBH,EAAkBI,UANXF,+BAWLG,EAHEjB,GACFA,EAAGC,iBACWD,EAAGkB,OACKC,MAEZJ,EAoBZK,MAAMH,GAASI,KAjBI,SAAAC,GACjB,GAAuB,KAAnBA,EAASC,QAAiBD,EAASC,QAAU,IAC/C,OAAOD,EAASE,OAEhB,MAAMC,MAAMH,EAASC,UAaOF,KAJb,SAAAK,GAOrB,IACMC,EAAAA,EAAY,wBAPCD,EAQZ7B,QAAQ,SAAA+B,GACXD,GAAY,mKAAAE,OAyBdD,EAA8BD,IAAAA,GAzBhB,SAAAE,OAyBdD,EAAAE,IAAA,GAzBc,6DAAAD,OA0BfD,EAAAE,IAAA,GA1Be,oCAAAD,OA0BfD,EAAAG,KA1Be,0KAAAF,OAO6DD,EAAQG,KAPrE,MAAAF,OAO8ED,EAAQG,KAPtF,qEAAAF,OASwBD,EAAQI,KAThC,wPAAAH,OAcqE,GAAjBD,EAAQK,OAd5D,0FAAAJ,OAgBoCD,EAAQK,OAhB5C,yGAAAJ,OAkB0E,EAAlBD,EAAQM,QAAc,UAAY,SAlB1F,MAAAL,OAkBuGD,EAAQM,QAlB/G,KAAAL,OAkB4I,EAAlBD,EAAQM,QAAc,UAAY,SAlB5J,sDAAAL,OAmB4BD,EAAQO,MAnBpC,kIAwBdR,GAAY,QACZf,EAAkBI,UAAYW,IA/BmBS,MAT7B,SAAAC,GAClBC,QAAQC,KAAKF,EAAMG,SACnB5B,EAAkBI,UAAlBJ,iCAAAA,OAzBU,6CAyBVA,UAtCEA,EAAoBH,SAE1BK,EAAIH,KAAAA,EAA4B,GAAAQ,MAK9BR,EAAoBd,QAAQ,SAAC4C,GAA7B9B,EAAAA,iBAAoBd,QAAQiB","file":"main.min.js","sourcesContent":["/*!\r\n * tabs.js\r\n */\r\n(function () {\r\n  const tabsEls = document.querySelectorAll(\".js-tabs\");\r\n  const isActive = \"is-active\";\r\n\r\n  const tabs = (tabsEl) => {\r\n    const tabsButtons = tabsEl.querySelectorAll(\".js-tabs-button\");\r\n\r\n    function clear() {\r\n      tabsButtons.forEach((tabButton) => {\r\n        tabButton.classList.remove(isActive);\r\n        tabButton.setAttribute(\"aria-selected\", false);\r\n      });\r\n    }\r\n\r\n    tabsButtons.forEach((tabButton) => {\r\n      tabButton.addEventListener(\"click\", (ev) => {\r\n        ev.preventDefault();\r\n\r\n        if (tabButton.classList.contains(isActive)) {\r\n          return;\r\n        }\r\n\r\n        clear();\r\n        tabButton.classList.add(isActive);\r\n        tabButton.setAttribute(\"aria-selected\", true);\r\n      });\r\n    });\r\n  };\r\n\r\n  if (tabsEls.length) {\r\n    tabsEls.forEach((tabsEl) => {\r\n      tabs(tabsEl);\r\n    });\r\n  }\r\n})();\r\n","/*!\r\n * main.js\r\n */\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const productsTabsButtons = document.querySelectorAll(\"#js-products-tabs .js-fetchData\");\r\n  const productsContainer = document.getElementById(\"js-products\");\r\n\r\n  if (productsTabsButtons.length) {\r\n    // The first product tab is loaded immediately\r\n    fetchData(null, productsTabsButtons[0].href);\r\n\r\n    // Other product tabs are loaded on click event\r\n    productsTabsButtons.forEach((btn) => {\r\n      btn.addEventListener(\"click\", fetchData);\r\n    });\r\n  }\r\n\r\n  function fetchData(ev, url) {\r\n    const loader = `<span class=\"Loader\"></span>`;\r\n    const errorText = \"We're sorry. Products could not be loaded.\";\r\n    let fetchButton;\r\n    let dataURL;\r\n\r\n    productsContainer.innerHTML = loader;\r\n\r\n    if (ev) {\r\n      ev.preventDefault();\r\n      fetchButton = ev.target;\r\n      dataURL = fetchButton.href;\r\n    } else {\r\n      dataURL = url;\r\n    }\r\n\r\n    const checkError = (response) => {\r\n      if (response.status >= 200 && response.status <= 299) {\r\n        return response.json();\r\n      } else {\r\n        throw Error(response.status);\r\n      }\r\n    };\r\n\r\n    const handleError = (error) => {\r\n      console.warn(error.message);\r\n      productsContainer.innerHTML = `<p class=\"Alert Alert--error\">${errorText}</p>`;\r\n    };\r\n\r\n    const handleData = (data) => {\r\n      renderProducts(data);\r\n    };\r\n\r\n    fetch(dataURL).then(checkError).then(handleData).catch(handleError);\r\n  }\r\n\r\n  function renderProducts(data) {\r\n    let productsHTML = `<ul class=\"Products\">`;\r\n    data.forEach((product) => {\r\n      productsHTML += `<li class=\"ProductCard\">\r\n          <div class=\"ProductCard-topSection\">\r\n            <picture class=\"ProductCard-imgContainer\">\r\n              <source srcset=\"${product.img[0]} 1x, ${product.img[1]} 2x\" />\r\n              <img class=\"ProductCard-img\" src=\"${product.img[0]}\" width=\"274\" height=\"274\" alt=\"${product.name}\" loading=\"lazy\" />\r\n            </picture>\r\n            <h2 class=\"ProductCard-title\">\r\n              <a href=\"#\" class=\"Link Link--inverted Link--stretched\" title=\"${product.name}\">${product.name}</a>\r\n            </h2>\r\n            <p class=\"ProductCard-desc\">${product.desc}</p>\r\n          </div>\r\n          <div class=\"ProductCard-bottomSection\">\r\n            <div class=\"ProductCard-ratingSection\">\r\n              <div class=\"ProductCard-rating\">\r\n                <span class=\"ProductCard-ratingStars\" style=\"width: ${product.rating * 20}%\"></span>\r\n              </div>\r\n              <span class=\"ProductCard-ratingValue\">${product.rating}</span>\r\n            </div>\r\n            <a href=\"#\" class=\"ProductCard-reviews\" title=\"Show product ${product.reviews > 1 ? \"reviews\" : \"review\"}\">${product.reviews} ${product.reviews > 1 ? \"reviews\" : \"review\"}</a>\r\n            <span class=\"ProductCard-price\">${product.price}</span>\r\n            <button type=\"button\" class=\"Button u-width-100p\">Add to Cart</button>\r\n          </div>\r\n        </li>`;\r\n    });\r\n    productsHTML += `</ul>`;\r\n    productsContainer.innerHTML = productsHTML;\r\n  }\r\n});\r\n"]}